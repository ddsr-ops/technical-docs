1. 完成编写数据湖SDM层BWT的度量标准及度量作业，并发布成功
2. 开发Oracle字典构建组件，应对运维DBA不按照规范变更元数据
3. 使用PythonExternalOp组件部署Oracle字典构建组件， 开发完成待部署上线
4. 复现Oracle CDC组件将Update事件识别成Delete时间，因无法复现目前尚未找到原因；提交官方Issue，官方反馈让使用最新版复现问题
5. 重新配置tft-bigdata-monitor服务，解决kafka url错误问题


1. 在生产环境发布Oracle字典构建组件，每天凌晨执行一次构建，发布完成
2. 探索其他方式构建Oracle CDC通路（Xstream）：完成在测试环境的验证，正在进行在生产环境的验证 
3. 跟踪已上线BWT的度量作业，并根据错误进行修复


1. 在生产环境部署以Xstream为引擎的Oracle CDC链路，与旧链路并行
2. 在1的基础上，跟进T_TRADE_INFO的数据情况，形成新链路是否可行的结论: 可行
3. Xstream为引擎的Oracle CDC链路，完美解决以LogMiner为引擎的链路将U事件识别为D事件的问题
4. 解决Oracle CDC链路中Shrink table partition失败的问题
5. 改造Oracle CDC新Jar中的时区问题，包括Date/Timestamp/TimestampTZ
6. 完善上述改造的测试工作，并解决其中遇到的TimestampTZ字段引起的ORA-26824问题

2023-05-04
1. 基于上周就Oracle CDC的技术调研，形成是否替换线上链路的结论
2. 初步编写Oracle CDC新老链路切换预案，基于生产环境的切换方案还需完善
3. 参与并完成商户中心1.0数据库审计工作
4. 经与使用Oracle CDC数据的相干同事沟通，不建议在白天进行链路切换

2023-05-08
1. 就Oracle CDC链路现状进行汇报，完善基于生产环境的新老链路切换预案
2. 继续推进数据湖SDM层的质量检核工作
3. 调研Flink/Iceberg/Spark各组件的版本兼容性，以Iceberg版本为基础
4. 配合运维处理账户系统数据库重启，维稳CDC总线
5. 解决Oracle CDC总线解析Index Partition Shrink DDL语句失败的问题
6. 撰写账户系统跑批作业迁移初步方案

2023-05-15
1. 按照Oracle CDC新老链路切换方案，在生产环境完成切换作业
2. 继续推进数据湖SDM层的质量检核工作
3. 诊断MySQL CDC插件升级后无法连接MySQL的问题，在2.3版本中手动禁止database.ssl.mode模式即解决问题
4. 参与支付宝外籍人士乘车相关数据库操作文档审计
5. 诊断Oracle CDC 2.3高额占用cpu使用率的问题

2023-05-22
1. 继续诊断Oracle CDC 2.3高额占用cpu使用率的问题，发现是parallelStream方法造成的，
   打上patch后在生产环境发布完成
2. 针对新版Oracle Xstream CDC链路，重新设计Grafana Dashboard和alert策略
3. 将tft-bigdata-monitor服务拆分成告警服务和短信服务，已分别完成部署

2023-05-29
1. 跟进新版LogMiner CDC链路的漏数问题，仍然存在漏数、错数的问题
2. 解决LogMiner CDC链路SourceInfo的ts_ms的时区问题，已解决未发布
3. 调整grafana alert for oracle策略， 当前策略过于敏感；将检查窗口5分钟调整至10分钟
4. 结合会议内容， 补充账户系统方案，尤其数据跑批和稽核的范围圈定，如有必要，则需做数据底层的调研
5. 校验新老用户系统部分存量数据，筛选不一致数据用于修复
6. 初步制定账户系统跑批作业的开发计划

2023-06-05
1. 与社区共同跟进新版LogMiner CDC链路的漏数/错数问题，社区无反馈；在研发环境Debug无法复现问题
2. 测试Xstream更改First_SCN，以应对会话重启后无法正确读取SCN的问题，可通过此方式绕开Oracle Bug；当前运维部门正着力进行Oracle PSU升级测试，为解决此Bug和应对扫描检查做准备
3. 根据账户系统跑批作业需求分析，对账户系统CDC链路进行调整，脚本已调整完毕，拟下周一进行正式环境的调整
4. 参与审计看看租车1.0.6数据库操作部分

2023-06-12
1. 测试expdp/impdp工具对Oracle Xstream链路的影响，如果目标表在被捕获列表内，则通过impdp导入的数据将被Xstream捕获，正常的expdp/impdp对CDC链路无影响
2. 跟进Oracle PSU的测试情况，了解该PSU是否具备上线的条件，单机Oracle已具备PSU上线条件，运维正在准备RAC集群
3. 协助搭建MySQL测试环境，临时挪用Flink节点的机器用于搭建测试MySQL
4. 参与审计农行数币公交卡的数据库初审和复审
5. 分析TSM Streaming程序异常原因，并对已发现问题提出后续处理办法
6. 修改既有GE运行作业的接收告警信息的手机号码

2023-06-25
1. 跟进Oracle PSU升级在RAC模式下的测试情况，升级及回退测试均通过
2. 迁移tft-bigdata-monitor监控服务至新机器，并进行自愈测试，测试进行中
3. * 升级余额处理Flink程序的依赖至Flink1.16.1
4. 改善余额处理Flink程序中的数据版本控制器，解决同个账户在数据更新时间一致情况下，数据版本可能混乱的问题，未进行
5. 处理fxq cdc链路中断问题，使其暂时恢复数据处理
6. 升级大数据环境机器的动态口令验证，更替为手机电子口令
7. 根据已提供的规则，与老系统比对新用户系统数据
8. 改造tft-bigdata-monitor监控服务，使其具备在特定服务器执行特定shell的能力
9. 配合运维DBA打Xstream小补丁，观测cdc链路情况

2023-07-03
1. 继续测试tft-bigdata-monitor监控程序，择机发布
2. 在测试环境复现Oracle CDC无法推进的问题，并在PSU应用后进行回归测试
3. 配合运维DBA打Xstream小补丁，观测cdc链路情况：问题没有被解决，反而愈加严重
4. 配合对UPS数据库进行PSU升级，升级完成后恢复相应CDC链路

2023-07-10
1. 配合对FXQ数据库进行PSU升级，升级完成后恢复相应CDC链路
2. 继续测试tft-bigdata-monitor监控程序，完成在生产环境的发布
3. 升级余额处理Flink程序的依赖至Flink1.16.1，完成测试
4. 增加生产环境ConnectDistributed集群的内存
5. 修复TSM CDC中断的问题，废弃schema.include.list，启用table.include.list

2023-07-17
1. 完成tft-bigdata-monitor监控程序发布
2. 完成配合清结算业务将旧Doris切向新的Doris数据库
3. 停用旧Doris后，调整Spark资源池
4. 完善数据湖SDM层的数据质量治理
5. 解决bwt相关dataset在kafka connect上下文中无法映射的问题，但对于分片的dataset无法完成映射
6. 完成GE从0.15升级至0.17，旨在解决Spark中无法计算Decimal类型的字段

2023-07-24
1. 预计周三停用旧Doris后，释放Hadoop硬件资源，增加Spark资源池
2. 完成解决GE升级至0.17后的部分环境问题，如本地执行checkpoint报import module错误
3. 继续完善数据湖SDM层的数据质量治理，推进剩余部分
4. 完成公交SAAS报表SQL审计，给出审计意见
5. 协助比对新老用户系统数据，按照要求给出具体差异数据
6. 抽取b_order数据，按照要求拼接装载至b_user_credit表的SQL脚本
7. 在GE质量组件与Doris兼容适配过程中，发现缺陷8325，导致质检无法继续进行，待官方修复

2023-07-31
1. 缓慢移除旧Doris数据库的数据，避免对集群其他组件造成影响
2. 跟进数据湖SDM层的数据质量治理处理进度，并完善剩余部分
3. 完成构建聚合支付MySQL数据库CDC链路，接入数据湖SDM层
4. 暂缓GE质量组件与Doris兼容适配，但仍需跟进社区对8325问题处理情况
5. 在Datahub数据源集成中，预研如何摄入Doris元数据，包括表、视图，两种方式：手动投递/利用MySQL Source二开
6. 完成提取2023年1-7月用户乘车总笔数排序取前100万名用户未开通过支付宝超级出行卡权益用户的手机号数据

2023-08-07
1. 跟进数据湖SDM层的数据质量治理处理进度，并完善剩余部分
2. 调整UPS CDC链路，新接入优惠券类业务表，并初始化历史数据
3. 开发Doris元数据采集组件，第一期中视图元数据采集，暂不实现
4. 统计外籍人士开通支付宝乘车码的人数及其消费笔数
5. 统计指定时间平峰期内公交地铁优惠笔数及其优惠金额

2023-08-14
1. 跟进数据湖SDM层的数据质量治理处理进度，并完善剩余部分
2. 在生产环境部署Doris元数据采集组件， 为数据质量和数据血缘建设准备
3. 设计Doris SQL血缘采集、解析、Sink

2023-08-21
1. 编写Doris审计日志采集Flume作业
2. 筛选新旧用户系统手机号码不一致的用户数据，输出为CSV格式：没有发现手机号码不一致的数据
3. 搭建通用SQL血缘分析的开发环境
4. 熟悉Druid ORM框架的AST语法树
5. 完成APP6.7浦发银行开发相关数据库文档审计
6. 定位行程数据库慢SQL的原因，疑IO方面达到瓶颈

2023-08-28
1. 熟悉公交SAAS报表类业务
2. 对接票制改革相关报表
3. 跟踪行程库慢SQL，查看其是否得以解决，并未得以解决；跟踪得知，这些慢SQL均是单条DML的小事务
4. 完成账户跑批改造代码的复核
5. TSM库的Stream池大小，建议在调整SGA和PGA后调整

2023-09-04
1. 完成账户跑批改造的结果表的二次校验
2. 配合新用户迁移程序就UO数据初始化测试工作
3. 进行通用SQL血缘分析系统的模块设计
4. 增加研发环境PBOC数据库的表空间

2023-09-11
1. 进行通用SQL血缘分析系统的模块设计，进行中
2. 为聚合支付MySQL数据库CDC链路添加心跳特性
3. 对齐自动化催缴需求细节后，对其如何实现进行设计
4. 审核账户跑批改造作业的改善部分，择机进行二次核验
5. 统计在新用户系统身份证号被二次加密的数据
6. 上线tsm流池监控脚本，便于提前告警并处置，当前设置告警阈值0.85

2023-09-18
1. 审核账户跑批改造作业的改善部分，择机进行二次核验
2. 推进GE在面向应用层表的应用，预计月底前完成
3. 完成SAAS 2.2数据库操作文档的审计工作
4. 修复Doris dashboard无法识别FE Master和数据源
5. 为大数据环境增加主机指标告警，cpu/mem/disk
6. 协助定位账户系统历史数据库主机扩容hang住的原因后，已正常完成扩容

2023-09-25
1. 审核账户跑批改造作业的改善部分，择机进行二次核验
2. 推进GE在面向应用层表的应用，当前状态为已完成
3. 根据MySQL官档，查看优化Flushing的办法

2023-10-07
1. 审核账户跑批改造作业的改善部分，择机进行二次核验
2. 跟进Oracle数据库补丁相关事宜，明确大致的计划安排: 10月20号应用FXQ库补丁；11月17号应用TSM补丁
3. 寻找动态构造DAG的技术路径，并验证技术路径的可行性，技术路径验证通过
4. 确认未支付订单自动化催缴的实现方案
5. 升级余额提醒实时应用程序至Flink1.16
6. 完成票制改革相关数据库操作文档审计工作
7. 完成SAAS报表优化数据库操作文档审核工作

2023-10-16
1. 废弃FXQ数据库老旧CDC链路，基于就近时刻重新构建CDC链路
2. 升级余额提醒实时应用程序至Flink1.16，于本周五与Oracle补丁应用同步操作
3. 为屏蔽Drop/Truncate套表对数据库产生的影响，采用rename-create-drop方式清理过期表
4. 修改TFTUPS CDC链路table list，增加捕捉表两张

2023-10-23
1. 启动FXQ CDC链路，替换JDBC链路进行抽数
2. 在流池监控的基础上， 添加重启KAFKA CONNECTOR的后置处理
3. 诊断Spark Streaming程序内存占用过高且不释放的问题，疑是因为compressor没释放造成native内存没释放

2023-10-30
1. 跟踪Spark Streaming程序内存占用过高且不释放的问题
2. FXQ CDC链路数据校验通过，完成替换JDBC链路
3. 撰写大数据平台介绍文档，含现状介绍、能力展示，未来规划

2023-11-06
1. 未支付订单自动催缴功能的灰度测试工作及正式上线
2. 配合新用户系统数据同步工作：将指定数据集灌入指定主题
3. 跟进Iceberg 1.0数据合并及上线工作
4. 制定未支付订单催缴短信合并规则、短信内容
5. 完成离线数据仓库的容量消耗估计，预计2025年初使用完毕，建议扩容3台机器（2T*10）

2023-11-13
1. 完成账户跑批改造结果的再次核验及上线文档复核工作
2. 梳理PBOC响应慢的功能，整理成需求文档
3. 构建新用户系统CDC链路，接入数据仓库（SDM）
4. 将新用户系统表格接入GE核验 
5. 跟踪未支付订单催缴任务情况
6. 跟进Iceberg 1.0数据合并及上线工作: 在ETL侧个别表Metadata存在问题，致使Merge异常；下周再行替换ETL侧Iceberg依赖

2023-11-20
1. 将新用户系统表格接入GE核验
2. 跟踪上周末未支付订单催缴情况的短信推送情况
3. 跟踪Streaming程序的内存占用情况
4. 架设Logminer CDC链路for TSM数据库，跟踪Logminer Bug
5. 工业互联网项目：配合处置数据
6. 升级离线侧Iceberg依赖
7. Review未支付订单催缴功能的短信合并代码，本周内择机上线
Doris 2 测试工作，主要考察高并发点查特性

2023-11-27
1. 定位Structured Steaming程序启动时无法快速消费Kafka Topic的问题，疑似Spark 3关于Kafka Connector的Bug，升级至3.1及以上可解决该问题
2. 将测试test12服务器从监控grafana监控列表中移除
3. 处置因Kafak2节点宕机造成的后置问题
4. 在Grafana中添加服务器宕机的告警策略

2023-12-4
1. 使用LogMiner引擎另建TSM CDC链路，并打开部分包体的trace日志，诊断Event被识别错误的问题
2. 就上周发生Kafka节点宕机后，应相关开发者要求，再次对（新）用户系统数据核验
3. 在应用Oracle最新补丁后，在LogMiner引擎下，U事件被识别成D事件的问题并未得以解决
4. 收集并整理数字化建设现状的报告材料
5. 调研OpenLogReplicator，发现其不支持RAC模式和ASM实例，故放弃后续调研

2023-12-11
1. 跟进年度账单需求，今年需求与去年变化不大，完成相关代码调整
2. 调研Debezium2.4.0新特性，关注时区转换特性
3. 比对新用户系统与UOS系统数据，输出差异文件

2023-12-18
1. 跟进并配合处理票改初始化次卡账户数据
2. 梳理doris元数据及其收集情况，对比Doirs1.x与Doris2审计日志差异
3. 账户系统数据库故障诊断，后续可考虑调参、升级硬件、分库等手段
4. 完成SAAS2.1.0.2临时数据库操作文档审计
5. 完成端外发票数据库操作文档审计
6. 支撑本周五凌晨的票制改革升级

2023-12-25
1. 2023年度账单数据加工作业的测试工作
2. 添加数据仓库票改相关表的GE作业，因GE不支持Doris受阻
3. 完成SAAS临时数据处理脚本审计工作
4. 再次对比UOS和新用户系统数据

2024-01-02
1. 研究GE 0.18.7版本，尤其对MySQL的支持
2. 对2023年度账单历史数据进行加工，并输出SQL脚本
3. 完成月活用户PUSH_TOKEN提取，合计120W
4. 完成SAAS临时处理数据脚本审计工作

2024-01-08
1. 采用GE 0.17.23 + Pandas 1.5.0技术栈，解决Doris的质量治理问题
2. 完成GE 0.17.23相关适配改造，包括action.py, configurator.py
3. 配合2023年度账单的测试工作，抽选必要特征用户进行测试