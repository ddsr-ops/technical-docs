1. 使用Top命令查看  
使用大写M可按照内存使用排序，大写P可按cpu使用排序；
---
2. 查看占用过高的程序的线程情况  
top -Hp pid  
这里可以查询到cpu占用较高的线程号，printf '%x\n' 线程号，等到16进制数值的线程号
---
3. 查看内存使用的堆栈信息  
jstack -l pid > pid.log  
这里需要查看下日志详情，特别注意锁、等待。通过2步骤中得到的16进制线程号，可在日志中查看线程状态
---
4. 查看内存对象情况  
jmap -histo:live 6142 |head -20

